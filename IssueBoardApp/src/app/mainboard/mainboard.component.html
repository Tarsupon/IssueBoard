<mat-card class="container">
  <div class="container__newTask">
    <mat-form-field>
      <input matInput
             #newBoard
             (keyup.enter)="createBoard(newBoard.value)"
             (blur)="createBoard(newBoard.value)"
             [placeholder]="'app.mainboard.addNewBoardPlaceholder' | translate">
    </mat-form-field>
    <h3>{{'app.mainboard.userEnteredAs' | translate}} {{authUser}}</h3>
    <mat-form-field>
      <input matInput
             #newTaskInput
             type="text"
             [placeholder]="'app.mainboard.addNewTaskPlaceholder' | translate"
             class="newTask__input"
             (blur)="createTask(newTaskInput.value)"
             (keyup.enter)="createTask(newTaskInput.value)">
      <button mat-flat-button matSuffix class="newTask__button" (click)="createTask(newTaskInput.value)">{{'app.mainboard.addTaskButton' | translate}}</button>
    </mat-form-field>
  </div>
  <div cdkDropListGroup class="container__boards">

    <div *ngFor="let board of tasks | keyvalue"  class="example-container">
      <h2>{{board.key}}</h2>
      <button mat-icon-button (click)="deleteBoard(board.key)"><mat-icon>clear</mat-icon></button>
      <div
        cdkDropList
        [cdkDropListData]="tasks[board.key]"
        class="example-list"
        (cdkDropListDropped)="drop($event)">
        <div class="task"
             *ngFor="let item of tasks[board.key]"
             cdkDrag
             cdkDragHandle>
          <input matInput [readonly]="(board.key === 'Done')"
                 class="task__input"
                 #newTaskHeader
                 [value]="item.header"
                 (blur)="saveEditableTask(board.key, item, newTaskHeader.value)"
                 (keyup.enter)="saveEditableTask(board.key, item, newTaskHeader.value)">
          <button matSuffix mat-icon-button (click)="deleteTask(item.id, board.key)"><mat-icon>clear</mat-icon></button>
        </div>
      </div>
    </div>

<!--    <div class="example-container">-->
<!--      <h2>In progress</h2>-->
<!--      <div-->
<!--        cdkDropList-->
<!--        [cdkDropListData]="tasks['InProgress']"-->
<!--        class="example-list"-->
<!--        (cdkDropListDropped)="drop($event)">-->
<!--        <div class="task" *ngFor="let item of tasks['InProgress']" cdkDrag>-->
<!--          <input matInput class="task__input" #newTaskHeader [value]="item.header" (keyup.enter)="tasksFacade.saveEditableTask('InProgress', item, newTaskHeader.value)">-->
<!--          <button matSuffix mat-icon-button (click)="tasksFacade.deleteTask(item.id, 'InProgress')"><mat-icon>clear</mat-icon></button>-->
<!--        </div>-->
<!--      </div>-->
<!--    </div>-->

<!--    <div class="example-container">-->
<!--      <h2>Done</h2>-->
<!--      <div-->
<!--        cdkDropList-->
<!--        [cdkDropListData]="tasks['Done']"-->
<!--        class="example-list"-->
<!--        (cdkDropListDropped)="drop($event)">-->
<!--        <div class="task" *ngFor="let item of tasks['Done']" cdkDrag>-->
<!--          <input matInput class="task__input" [value]="item.header" readonly>-->
<!--          <button matSuffix mat-icon-button (click)="tasksFacade.deleteTask(item.id, 'Done')"><mat-icon>clear</mat-icon></button>-->
<!--        </div>-->
<!--      </div>-->
<!--    </div>-->

  </div>
</mat-card>
